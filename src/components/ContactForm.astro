---

---

<form id="contact-form" class="space-y-6">
  <div>
    <label for="name" class="block text-sm font-medium text-navy-900">Name</label>
    <input
      type="text"
      id="name"
      name="name"
      required
      class="mt-1 block w-full rounded-lg border border-gray-300 px-4 py-3 text-sm text-navy-900 shadow-sm placeholder:text-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"
      placeholder="Your name"
    />
  </div>

  <div>
    <label for="email" class="block text-sm font-medium text-navy-900">Email</label>
    <input
      type="email"
      id="email"
      name="email"
      required
      class="mt-1 block w-full rounded-lg border border-gray-300 px-4 py-3 text-sm text-navy-900 shadow-sm placeholder:text-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"
      placeholder="you@example.com"
    />
  </div>

  <div>
    <label for="description" class="block text-sm font-medium text-navy-900">Project Description</label>
    <textarea
      id="description"
      name="description"
      rows="4"
      required
      class="mt-1 block w-full rounded-lg border border-gray-300 px-4 py-3 text-sm text-navy-900 shadow-sm placeholder:text-gray-400 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none resize-y"
      placeholder="Tell me about your project..."
    ></textarea>
  </div>

  <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
    <div>
      <label for="budget" class="block text-sm font-medium text-navy-900">Budget Range</label>
      <select
        id="budget"
        name="budget"
        class="mt-1 block w-full rounded-lg border border-gray-300 px-4 py-3 text-sm text-navy-900 shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"
      >
        <option value="">Select a range</option>
        <option value="Under €2,000">Under &euro;2,000</option>
        <option value="€2,000 – €5,000">&euro;2,000 – &euro;5,000</option>
        <option value="€5,000 – €10,000">&euro;5,000 – &euro;10,000</option>
        <option value="€10,000+">€10,000+</option>
      </select>
    </div>

    <div>
      <label for="timeline" class="block text-sm font-medium text-navy-900">Timeline</label>
      <select
        id="timeline"
        name="timeline"
        class="mt-1 block w-full rounded-lg border border-gray-300 px-4 py-3 text-sm text-navy-900 shadow-sm focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 focus:outline-none"
      >
        <option value="">Select a timeline</option>
        <option value="As soon as possible">As soon as possible</option>
        <option value="1–2 months">1–2 months</option>
        <option value="3–6 months">3–6 months</option>
        <option value="Flexible">Flexible</option>
      </select>
    </div>
  </div>

  <button
    type="submit"
    id="submit-btn"
    class="w-full rounded-lg bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm transition-all hover:bg-primary-700 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed"
  >
    Send Message
  </button>

  <div id="form-status" class="hidden rounded-lg p-4 text-sm"></div>

  <p class="mt-4 text-center text-sm text-gray-500">
    Or call <a href="tel:+353857113068" class="font-medium text-primary-600 hover:text-primary-800 transition-colors">+353 85 711 3068</a>
  </p>
</form>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const status = document.getElementById('form-status')!;
  const submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending...';

    const data = {
      name: (form.querySelector('#name') as HTMLInputElement).value.trim(),
      email: (form.querySelector('#email') as HTMLInputElement).value.trim(),
      description: (form.querySelector('#description') as HTMLTextAreaElement).value.trim(),
      budget: (form.querySelector('#budget') as HTMLSelectElement).value,
      timeline: (form.querySelector('#timeline') as HTMLSelectElement).value,
    };

    try {
      const res = await fetch('/api/contact', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
      });

      if (res.ok) {
        status.textContent = "Thanks for your message! I'll get back to you soon.";
        status.className = 'rounded-lg p-4 text-sm bg-green-50 text-green-800 border border-green-200';
        form.reset();
      } else {
        const err = await res.json();
        status.textContent = err.error || 'Something went wrong. Please try again.';
        status.className = 'rounded-lg p-4 text-sm bg-red-50 text-red-800 border border-red-200';
      }
    } catch {
      status.textContent = 'Network error. Please check your connection and try again.';
      status.className = 'rounded-lg p-4 text-sm bg-red-50 text-red-800 border border-red-200';
    }

    submitBtn.disabled = false;
    submitBtn.textContent = 'Send Message';

    setTimeout(() => {
      status.className = 'hidden rounded-lg p-4 text-sm';
    }, 5000);
  });
</script>
